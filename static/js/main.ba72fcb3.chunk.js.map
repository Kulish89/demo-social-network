{"version":3,"sources":["Redux/dialogs-reducer.js","components/common/Preloader/Preloader.module.css","hoc/WithAuthRedirect.js","api/api.js","components/Navbar/NavBar.module.css","components/common/FormsControls/FormsControls.js","reportWebVitals.js","Redux/sidebar-reducer.js","Redux/users-reducer.js","Redux/auth-reducer.js","Redux/app-reducer.js","Redux/redux-store.js","assets/images/social-network-logo.png","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Navbar/NavBar.jsx","components/News/News.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","components/common/Paginator/Paginator.jsx","components/Friends/User.jsx","components/Friends/Users.jsx","Redux/users-selectors.js","components/Friends/UsersContainer.jsx","components/Login/Login.jsx","App.js","index.js","components/common/FormsControls/FormsControls.module.css","components/Friends/Users.module.css","utils/validators/validators.js","assets/images/preloader.gif","components/common/Preloader/Preloader.jsx","components/common/Paginator/Paginator.module.css","App.module.css","components/Header/Header.module.css","Redux/profile-reducer.js","assets/images/user.png"],"names":["SEND_NEW_MESSAGE","initialState","dialogs","id","name","avatar","status","messages","message","sendNewMessage","newMessageText","type","dialogsReducer","state","action","module","exports","mapStateToPropsForRediect","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","post","unfollow","delete","headerAPI","authMe","login","email","password","rememberMe","captcha","res","logout","profileAPI","getProfile","userId","getStatus","updateStatus","put","savePhoto","file","formData","FormData","append","saveProfile","profile","securityAPI","getCaptchaUrl","Textarea","input","meta","hasError","touched","error","className","classes","formControl","Input","createField","placeholder","component","validate","text","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","sidebarReducer","FOLLOW","UNFOLLOW","SET_USERS","SET_TOTAL_USERS_COUNT","SET_CURRENT_PAGE","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","setCurrentPage","page","toggleIsFetching","toggleFollowingProgress","usersReducer","map","el","followed","totalCount","userIid","filter","SET_USER_DATA","GET_CAPTCHA_URL_SUCCES","captchaUrl","setUserData","payload","getCaptchaUrlSucces","getAuthUserData","dispatch","resultCode","a","url","authReducer","INITIALIZED_SUCCES","CATCHED_ERROR","initialized","globalError","appReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","sidebar","usersPage","app","form","formReducer","store","createStore","applyMiddleware","thunkMiddleware","window","Header","header","src","socialNetworkLogo","loginBlock","onClick","HeaderContainer","NavBar","styles","nav","item","activeClassName","active","News","content","Music","Settings","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","pagesCounter","disabled","p","cn","selectedPage","pageNumber","User","user","unfollowThunk","followThunk","person","photos","small","userPhoto","some","Users","paginator","totalUserCount","usersList","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","requestUsers","Preloader","items","LoginReduxForm","reduxForm","handleSubmit","onSubmit","requiredField","formError","length","stopSubmit","_error","ProfileContainer","lazy","DialogsContainer","App","catchAllUnhandledErrors","reason","promise","catchedError","initializeApp","addEventListener","removeEventListener","appWrapper","appWrapper_content","fallback","from","path","render","compose","withRouter","Promise","all","ReactDOM","basename","process","document","getElementById","value","maxLengthCreator","maxLength","preloader","NEW_POST","SET_USER_PROFILE","SET_STATUS","SAVE_PHOTO_SUCCES","posts","addNewPost","newPostText","setStatus","getUserProfile","alert","getState","Error","reject"],"mappings":"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","file":"static/js/main.ba72fcb3.chunk.js","sourcesContent":["const SEND_NEW_MESSAGE = \"SEND_NEW_MESSAGE\";\r\n\r\nlet initialState = {\r\n  dialogs: [\r\n    {\r\n      id: 1,\r\n      name: \"Andrey\",\r\n      avatar:\r\n        \"https://profilemagazine.com/wp-content/uploads/2020/04/Ajmere-Dale-Square-thumbnail.jpg\",\r\n      status: \"Hello, How are you?\",\r\n    },\r\n    {\r\n      id: 2,\r\n      name: \"Vasili\",\r\n      avatar:\r\n        \"https://res-1.cloudinary.com/crunchbase-production/image/upload/c_thumb,h_256,w_256,f_auto,g_faces,z_0.7,q_auto:eco/v1443584492/vosgqpvicpjgknz2rn2l.png\",\r\n      status: \"Where are my friends? Heeeyo!!!\",\r\n    },\r\n    {\r\n      id: 3,\r\n      name: \"Olga\",\r\n      avatar:\r\n        \"https://organicthemes.com/demo/profile/files/2018/05/profile-pic.jpg\",\r\n      status: \"Oh! I need a husband! Now!\",\r\n    },\r\n    {\r\n      id: 4,\r\n      name: \"Nikola\",\r\n      avatar:\r\n        \"https://media.creativemornings.com/uploads/user/avatar/49419/Bechtel_Profile_Square.jpg\",\r\n      status: \"I'm careful!\",\r\n    },\r\n  ],\r\n  messages: [\r\n    { id: 1, message: \"Hello!\" },\r\n    { id: 2, message: \"How are you!\" },\r\n    { id: 3, message: \"This is my first project!\" },\r\n  ],\r\n};\r\nconst dialogsReducer = (state = initialState, action) => {\r\n  if (action.type === SEND_NEW_MESSAGE) {\r\n    return {\r\n      ...state,\r\n      messages: [\r\n        ...state.messages,\r\n        {\r\n          id: 5,\r\n          message: action.newMessageText,\r\n        },\r\n      ],\r\n    };\r\n  }\r\n  return state;\r\n};\r\nexport const sendNewMessage = (newMessageText) => {\r\n  return { type: SEND_NEW_MESSAGE, newMessageText };\r\n};\r\n\r\nexport default dialogsReducer;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__3yxk8\"};","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\nlet mapStateToPropsForRediect = (state) => {\r\n  return {\r\n    isAuth: state.auth.isAuth,\r\n  };\r\n};\r\nexport const withAuthRedirect = (Component) => {\r\n  class RedirectComponent extends React.Component {\r\n    render() {\r\n      if (!this.props.isAuth) {\r\n        return <Redirect to={\"/login\"} />;\r\n      }\r\n      return <Component {...this.props} />;\r\n    }\r\n  }\r\n  let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRediect)(\r\n    RedirectComponent\r\n  );\r\n  return ConnectedAuthRedirectComponent;\r\n};\r\n","import * as axios from \"axios\";\r\nconst instance = axios.create({\r\n  withCredentials: true,\r\n  baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n  headers: {\r\n    \"API-KEY\": \"94b19567-d7dd-422f-954b-d1016f970024\",\r\n  },\r\n});\r\nexport const usersAPI = {\r\n  getUsers(currentPage = 1, pageSize = 10) {\r\n    return instance\r\n      .get(`users?page=${currentPage}&count=${pageSize}`)\r\n      .then((response) => response.data);\r\n  },\r\n  follow(id) {\r\n    return instance.post(`follow/${id}`);\r\n  },\r\n  unfollow(id) {\r\n    return instance.delete(`follow/${id}`);\r\n  },\r\n};\r\nexport const headerAPI = {\r\n  authMe() {\r\n    return instance.get(`auth/me`);\r\n  },\r\n  login(email, password, rememberMe = false, captcha = null) {\r\n    return instance\r\n      .post(`auth/login`, { email, password, rememberMe, captcha })\r\n      .then((res) => res.data);\r\n  },\r\n  logout() {\r\n    return instance.delete(`auth/login`);\r\n  },\r\n};\r\nexport const profileAPI = {\r\n  getProfile(userId) {\r\n    return instance.get(`profile/` + userId);\r\n  },\r\n  getStatus(userId) {\r\n    return instance.get(`profile/status/` + userId);\r\n  },\r\n  updateStatus(status) {\r\n    return instance.put(`profile/status/`, { status: status });\r\n  },\r\n  savePhoto(file) {\r\n    // высылаем файл фотку, там особая форма запроса\r\n    let formData = new FormData();\r\n    formData.append(\"image\", file);\r\n    return instance.put(`profile/photo/`, formData, {\r\n      headers: {\r\n        \"Content-type\": \"multipart/form-data\",\r\n      },\r\n    });\r\n  },\r\n  saveProfile(profile) {\r\n    return instance.put(`profile/`, profile);\r\n  },\r\n};\r\nexport const securityAPI = {\r\n  getCaptchaUrl() {\r\n    return instance.get(`security/get-captcha-url`);\r\n  },\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"NavBar_nav__11Yxv\",\"active\":\"NavBar_active__20to5\",\"item\":\"NavBar_item__2qh85\"};","import React from \"react\";\r\nimport { Field } from \"redux-form\";\r\nimport classes from \"./FormsControls.module.css\";\r\n// в компоненте используем рест оператор, чтобы раоботать с нужными пропсами - импут и т.д.\r\nexport const Textarea = ({ input, meta, ...props }) => {\r\n  const hasError = meta.touched && meta.error;\r\n  return (\r\n    <div\r\n      className={classes.formControl + \" \" + (hasError ? classes.error : \" \")}\r\n    >\r\n      <textarea {...input} {...props} />\r\n      {hasError && <span>{meta.error}</span>}\r\n    </div>\r\n  );\r\n};\r\nexport const Input = ({ input, meta, ...props }) => {\r\n  const hasError = meta.touched && meta.error;\r\n  return (\r\n    <div\r\n      className={classes.formControl + \" \" + (hasError ? classes.error : \" \")}\r\n    >\r\n      <input {...input} {...props} />\r\n      {hasError && <span>{meta.error}</span>}\r\n    </div>\r\n  );\r\n};\r\n// в метаданных есть данные об касании поля и об ошибке (сообщение об ошибке)\r\nexport function createField(\r\n  placeholder,\r\n  component,\r\n  validate,\r\n  name,\r\n  props = {},\r\n  text = \"\"\r\n) {\r\n  return (\r\n    <div>\r\n      <Field\r\n        placeholder={placeholder}\r\n        component={component}\r\n        validate={validate}\r\n        name={name}\r\n        {...props}\r\n      ></Field>\r\n      {text}\r\n    </div>\r\n  );\r\n}\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","let initialState = [\r\n  {\r\n    id: 1,\r\n    name: \"Andrey\",\r\n    avatar:\r\n      \"https://profilemagazine.com/wp-content/uploads/2020/04/Ajmere-Dale-Square-thumbnail.jpg\",\r\n  },\r\n  {\r\n    id: 2,\r\n    name: \"Vasili\",\r\n    avatar:\r\n      \"https://res-1.cloudinary.com/crunchbase-production/image/upload/c_thumb,h_256,w_256,f_auto,g_faces,z_0.7,q_auto:eco/v1443584492/vosgqpvicpjgknz2rn2l.png\",\r\n  },\r\n  {\r\n    id: 3,\r\n    name: \"Olga\",\r\n    avatar:\r\n      \"https://organicthemes.com/demo/profile/files/2018/05/profile-pic.jpg\",\r\n  },\r\n  {\r\n    id: 4,\r\n    name: \"Nikola\",\r\n    avatar:\r\n      \"https://media.creativemornings.com/uploads/user/avatar/49419/Bechtel_Profile_Square.jpg\",\r\n  },\r\n];\r\nconst sidebarReducer = (state = initialState, action) => {\r\n  return state;\r\n};\r\nexport default sidebarReducer;\r\n","import { usersAPI } from \"../api/api\";\r\nconst FOLLOW = \"FOLLOW\";\r\nconst UNFOLLOW = \"UNFOLLOW\";\r\nconst SET_USERS = \"SET_USERS\";\r\nconst SET_TOTAL_USERS_COUNT = \"SET_TOTAL_USERS_COUNT\";\r\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\";\r\nconst TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\";\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = \"TOGGLE_IS_FOLLOWING_PROGRESS\";\r\n\r\nlet initialState = {\r\n  users: [],\r\n  totalUsersCount: 0,\r\n  currentPage: 1,\r\n  pageSize: 10,\r\n  isFetching: true,\r\n  followingInProgress: [],\r\n};\r\nconst usersReducer = (state = initialState, action) => {\r\n  if (action.type === FOLLOW) {\r\n    return {\r\n      ...state,\r\n      users: state.users.map((el) => {\r\n        if (el.id === action.userId) {\r\n          return { ...el, followed: true };\r\n        }\r\n        return el;\r\n      }),\r\n    };\r\n  } else if (action.type === UNFOLLOW) {\r\n    return {\r\n      ...state,\r\n      users: state.users.map((el) => {\r\n        if (el.id === action.userId) {\r\n          return { ...el, followed: false };\r\n        }\r\n        return el;\r\n      }),\r\n    };\r\n  } else if (action.type === SET_USERS) {\r\n    return {\r\n      ...state,\r\n      users: action.users,\r\n    };\r\n  } else if (action.type === SET_CURRENT_PAGE) {\r\n    return {\r\n      ...state,\r\n      currentPage: action.page,\r\n    };\r\n  } else if (action.type === SET_TOTAL_USERS_COUNT) {\r\n    return {\r\n      ...state,\r\n      totalUsersCount: action.totalCount,\r\n    };\r\n  } else if (action.type === TOGGLE_IS_FETCHING) {\r\n    return {\r\n      ...state,\r\n      isFetching: action.isFetching,\r\n    };\r\n  } else if (action.type === TOGGLE_IS_FOLLOWING_PROGRESS) {\r\n    return {\r\n      ...state,\r\n      followingInProgress: action.isFetching\r\n        ? [...state.followingInProgress, action.userIid]\r\n        : state.followingInProgress.filter((id) => id != action.userId),\r\n    };\r\n  }\r\n  return state;\r\n};\r\nexport const follow = (userId) => {\r\n  return { type: FOLLOW, userId };\r\n};\r\nexport const unfollow = (userId) => {\r\n  return { type: UNFOLLOW, userId };\r\n};\r\nexport const setUsers = (users) => {\r\n  return { type: SET_USERS, users };\r\n};\r\nexport const setCurrentPage = (page) => {\r\n  return { type: SET_CURRENT_PAGE, page };\r\n};\r\nexport const setTotalUsersCount = (totalCount) => {\r\n  return { type: SET_TOTAL_USERS_COUNT, totalCount };\r\n};\r\nexport const toggleIsFetching = (isFetching) => {\r\n  return { type: TOGGLE_IS_FETCHING, isFetching };\r\n};\r\nexport const toggleFollowingProgress = (isFetching, userId) => {\r\n  return { type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId };\r\n};\r\n\r\n// _________________________________________________________________________________\r\n\r\nexport const requestUsers = (currentPage, pageSize) => {\r\n  return (dispatch) => {\r\n    dispatch(toggleIsFetching(true));\r\n    dispatch(setCurrentPage(currentPage));\r\n    usersAPI.getUsers(currentPage, pageSize).then((data) => {\r\n      dispatch(toggleIsFetching(false));\r\n      dispatch(setUsers(data.items));\r\n      dispatch(setTotalUsersCount(data.totalCount));\r\n    });\r\n  };\r\n};\r\nexport const unfollowThunk = (userId) => {\r\n  return async (dispatch) => {\r\n    dispatch(toggleFollowingProgress(true, userId));\r\n    let response = await usersAPI.unfollow(userId);\r\n    if (response.data.resultCode == 0) {\r\n      dispatch(unfollow(userId));\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId));\r\n  };\r\n};\r\nexport const followThunk = (userId) => {\r\n  return async (dispatch) => {\r\n    dispatch(toggleFollowingProgress(true, userId));\r\n    let response = await usersAPI.follow(userId);\r\n    if (response.data.resultCode == 0) {\r\n      dispatch(follow(userId));\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId));\r\n  };\r\n};\r\nexport default usersReducer;\r\n","import { stopSubmit } from \"redux-form\";\r\nimport { headerAPI, securityAPI } from \"../api/api\";\r\nconst SET_USER_DATA = \"SET_USER_DATA\";\r\nconst GET_CAPTCHA_URL_SUCCES =\r\n  \"social-network/security/get-captcha-url/GET_CAPTCHA_URL_SUCCES\";\r\n\r\nlet initialState = {\r\n  userId: null,\r\n  email: null,\r\n  login: null,\r\n  isAuth: false,\r\n  captchaUrl: null,\r\n};\r\nconst authReducer = (state = initialState, action) => {\r\n  if (action.type === SET_USER_DATA || action.type === GET_CAPTCHA_URL_SUCCES) {\r\n    return {\r\n      ...state,\r\n      ...action.payload,\r\n    };\r\n  }\r\n  return state;\r\n};\r\nexport const setUserData = (userId, email, login, isAuth) => {\r\n  return { type: SET_USER_DATA, payload: { userId, email, login, isAuth } };\r\n};\r\nexport const getCaptchaUrlSucces = (captchaUrl) => {\r\n  return { type: GET_CAPTCHA_URL_SUCCES, payload: { captchaUrl } };\r\n};\r\n// санка - функция, которая принимает диспатч, а оборачивает её санк-креэйтор, который принимает нужные данные для аяксзапроса.\r\nexport const getAuthUserData = () => (dispatch) => {\r\n  return headerAPI.authMe().then((response) => {\r\n    if (response.data.resultCode === 0) {\r\n      let { id, email, login } = response.data.data;\r\n      dispatch(setUserData(id, email, login, true));\r\n    }\r\n  });\r\n};\r\n\r\nexport const login =\r\n  (email, password, rememberMe, captcha) => async (dispatch) => {\r\n    let data = await headerAPI.login(email, password, rememberMe, captcha);\r\n\r\n    if (data.resultCode === 0) {\r\n      dispatch(getAuthUserData());\r\n    } else {\r\n      if (data.resultCode === 10) {\r\n        dispatch(getCaptchaUrl());\r\n      }\r\n      let message = data.messages.length > 0 ? data.messages[0] : \"Some error\";\r\n      // метод стопсабмит из редакс-форм , первый парамерт - название формы, а вторым обьект с _error - это на всю форму.\r\n      dispatch(stopSubmit(\"login\", { _error: message }));\r\n    }\r\n  };\r\n\r\nexport const logout = () => (dispatch) => {\r\n  headerAPI.logout().then((response) => {\r\n    if (response.data.resultCode === 0) {\r\n      dispatch(setUserData(null, null, null, false));\r\n    }\r\n  });\r\n};\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n  const response = await securityAPI.getCaptchaUrl();\r\n  const captchaUrl = response.data.url;\r\n  dispatch(getCaptchaUrlSucces(captchaUrl));\r\n};\r\n\r\nexport default authReducer;\r\n","import { getAuthUserData } from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCES = \"INITIALIZED_SUCCES\";\r\nconst CATCHED_ERROR = \"CATCHED_ERROR\";\r\nlet initialState = {\r\n  initialized: false,\r\n  globalError: null,\r\n};\r\nconst appReducer = (state = initialState, action) => {\r\n  if (action.type === INITIALIZED_SUCCES) {\r\n    return {\r\n      ...state,\r\n      initialized: true,\r\n    };\r\n  } else if (action.type === CATCHED_ERROR) {\r\n    return {\r\n      ...state,\r\n      globalError: action.error,\r\n    };\r\n  }\r\n  return state;\r\n};\r\nexport const initializedSucces = () => {\r\n  return { type: INITIALIZED_SUCCES };\r\n};\r\nexport const catchedError = (error) => {\r\n  return { type: CATCHED_ERROR, error };\r\n};\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n  let promise = dispatch(getAuthUserData());\r\n  Promise.all([promise]).then(() => {\r\n    dispatch(initializedSucces());\r\n  });\r\n};\r\n\r\nexport default appReducer;\r\n","import { applyMiddleware, combineReducers, createStore } from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport { reducer as formReducer } from \"redux-form\";\r\nimport appReducer from \"./app-reducer\";\r\nlet reducers = combineReducers({\r\n  profilePage: profileReducer,\r\n  dialogsPage: dialogsReducer,\r\n  sidebar: sidebarReducer,\r\n  usersPage: usersReducer,\r\n  auth: authReducer,\r\n  app: appReducer,\r\n  form: formReducer,\r\n});\r\n\r\nlet store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\nwindow.store = store;\r\nexport default store;\r\n","export default __webpack_public_path__ + \"static/media/social-network-logo.119097b8.png\";","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport classes from \"./Header.module.css\";\r\nimport socialNetworkLogo from \"./../../assets/images/social-network-logo.png\";\r\nfunction Header(props) {\r\n  return (\r\n    <header className={classes.header}>\r\n      <img src={socialNetworkLogo}></img>\r\n      <div className={classes.loginBlock}>\r\n        {props.isAuth ? (\r\n          <div>\r\n            <div>{props.login}</div>\r\n            <div>\r\n              <button onClick={props.logout}>Log out</button>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <NavLink to={\"/login\"}></NavLink>\r\n        )}\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\nexport default Header;\r\n","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport { connect } from \"react-redux\";\r\nimport { logout } from \"../../Redux/auth-reducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n  render() {\r\n    return <Header {...this.props}></Header>;\r\n  }\r\n}\r\nconst mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n  login: state.auth.login,\r\n});\r\nexport default connect(mapStateToProps, { logout })(HeaderContainer);\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport styles from \"./NavBar.module.css\";\r\nfunction NavBar() {\r\n  return (\r\n    <nav className={styles.nav}>\r\n      <div className={styles.item}>\r\n        <NavLink to=\"/profile\" activeClassName={styles.active}>\r\n          Profile\r\n        </NavLink>\r\n      </div>\r\n      <div className={styles.item}>\r\n        <NavLink to=\"/dialogs\" activeClassName={styles.active}>\r\n          Messages\r\n        </NavLink>\r\n      </div>\r\n      <div className={styles.item}>\r\n        <NavLink to=\"/news\" activeClassName={styles.active}>\r\n          News\r\n        </NavLink>\r\n      </div>\r\n      <div className={styles.item}>\r\n        <NavLink to=\"/music\" activeClassName={styles.active}>\r\n          Music\r\n        </NavLink>\r\n      </div>\r\n      <div className={styles.item}>\r\n        <NavLink to=\"/settings\" activeClassName={styles.active}>\r\n          Settings\r\n        </NavLink>\r\n      </div>\r\n      <div className={styles.item}>\r\n        <NavLink to=\"/users\" activeClassName={styles.active}>\r\n          Users\r\n        </NavLink>\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\nexport default NavBar;\r\n","import React from \"react\";\r\nimport classes from \"./News.module.css\";\r\nconst News = () => {\r\n  return (\r\n    <div className={classes.content}>\r\n      News Здесь отображаются новости, это блок прописывается в дивке апп\r\n      враппер контент по запросу (при нажатии на ссылку в навбаре ) /news.\r\n    </div>\r\n  );\r\n};\r\nexport default News;\r\n","import React from \"react\";\r\nimport classes from \"./Music.module.css\";\r\nconst Music = () => {\r\n  return (\r\n    <div className={classes.content}>\r\n      Music Здесь отображается музыка , это блок прописывается в дивке апп\r\n      враппер контент по запросу (при нажатии на ссылку в навбаре ) /music.\r\n    </div>\r\n  );\r\n};\r\nexport default Music;\r\n","import React from \"react\";\r\nimport classes from \"./Settings.module.css\";\r\nconst Settings = () => {\r\n  return (\r\n    <div>\r\n      Settings Здесь отображаются новости, это блок прописывается в дивке апп\r\n      враппер контент по запросу (при нажатии на ссылку в навбаре ) /settings.\r\n    </div>\r\n  );\r\n};\r\nexport default Settings;\r\n","import React, { useState } from \"react\";\r\nimport styles from \"./Paginator.module.css\";\r\nimport cn from \"classnames\"; // функция cn позволяет склеивать стили к одному элементу\r\nconst Paginator = ({\r\n  totalItemsCount,\r\n  pageSize,\r\n  currentPage,\r\n  onPageChanged,\r\n  portionSize = 10,\r\n}) => {\r\n  let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n  let pages = [];\r\n  for (let i = 1; i <= pagesCount; i++) {\r\n    pages.push(i);\r\n  }\r\n  let portionCount = Math.ceil(pagesCount / portionSize);\r\n  let [portionNumber, setPortionNumber] = useState(1);\r\n  let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n  let rightPortionPageNumber = portionNumber * portionSize;\r\n  return (\r\n    <div className={styles.pagesCounter}>\r\n      {portionNumber > 1 ? (\r\n        <button\r\n          onClick={() => {\r\n            setPortionNumber(portionNumber - 1);\r\n          }}\r\n        >\r\n          &laquo;&laquo;\r\n        </button>\r\n      ) : (\r\n        <button disabled>&laquo;&laquo;</button>\r\n      )}\r\n      {pages\r\n        .filter(\r\n          (p) => p >= leftPortionPageNumber && p <= rightPortionPageNumber\r\n        )\r\n        .map((p) => {\r\n          return (\r\n            <span\r\n              className={cn(\r\n                { [styles.selectedPage]: currentPage === p },\r\n                styles.pageNumber\r\n              )}\r\n              key={p}\r\n              onClick={() => {\r\n                onPageChanged(p);\r\n              }}\r\n            >\r\n              {p}\r\n            </span>\r\n          );\r\n        })}\r\n      {portionCount > portionNumber ? (\r\n        <button\r\n          onClick={() => {\r\n            setPortionNumber(portionNumber + 1);\r\n          }}\r\n        >\r\n          &raquo;&raquo;\r\n        </button>\r\n      ) : (\r\n        <button disabled>&raquo;&raquo;</button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Paginator;\r\n","import React from \"react\";\r\nimport userPhoto from \"../../assets/images/user.png\";\r\nimport styles from \"./Users.module.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nlet User = ({ user, unfollowThunk, followingInProgress, followThunk }) => {\r\n  return (\r\n    <div className={styles.person}>\r\n      <span>\r\n        <div>\r\n          <NavLink to={\"/profile/\" + user.id}>\r\n            <img\r\n              src={user.photos.small != null ? user.photos.small : userPhoto}\r\n            ></img>\r\n          </NavLink>\r\n        </div>\r\n        <div>\r\n          {user.followed ? (\r\n            <button\r\n              disabled={followingInProgress.some((id) => id === user.id)}\r\n              onClick={() => {\r\n                unfollowThunk(user.id);\r\n              }}\r\n            >\r\n              UnFollow\r\n            </button>\r\n          ) : (\r\n            <button\r\n              disabled={followingInProgress.some((id) => id === user.id)}\r\n              onClick={() => {\r\n                followThunk(user.id);\r\n              }}\r\n            >\r\n              Follow\r\n            </button>\r\n          )}\r\n        </div>\r\n      </span>\r\n      <span>\r\n        <span>\r\n          <div>{user.name}</div>\r\n          {user.status && (\r\n            <div className={styles.status}>{`\"${user.status}\"`}</div>\r\n          )}\r\n        </span>\r\n      </span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default User;\r\n","import React from \"react\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\nimport styles from \"./Users.module.css\";\r\n\r\nlet Users = (props) => {\r\n  return (\r\n    <div>\r\n      <div className={styles.paginator}>\r\n        <Paginator\r\n          totalItemsCount={props.totalUserCount}\r\n          pageSize={props.pageSize}\r\n          currentPage={props.currentPage}\r\n          onPageChanged={props.onPageChanged}\r\n        />\r\n      </div>\r\n      <div className={styles.usersList}>\r\n        {props.users.map((el) => (\r\n          <User\r\n            key={el.id}\r\n            user={el}\r\n            followingInProgress={props.followingInProgress}\r\n            unfollowThunk={props.unfollowThunk}\r\n            followThunk={props.followThunk}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Users;\r\n","// Селетор - это функция, кторая принимает весь стэйт целиком и возвращает часть стейта (полученное значение).\r\n\r\nimport { createSelectorHook } from \"react-redux\";\r\n\r\n//  селекторы из библиотеки пишутся в компоненте как обычно и в них передается стэйт, а здесь, в файле селекторов в параметры передаешь другие селекторы (примитивные), от которых он будет зависеть... т.е. выстраиваешь зависимость.\r\n// const superSelector = createSelectorHook(getUsers, getPageSize, (users, pageSize) => {return state.blablabla}) пример!!!! в парамерты функции-колбэка передаются результаты примитиынх селекторов!!!!!!!\r\nexport const getUsers = (state) => {\r\n  return state.usersPage.users;\r\n};\r\nexport const getPageSize = (state) => {\r\n  return state.usersPage.pageSize;\r\n};\r\nexport const getTotalUsersCount = (state) => {\r\n  return state.usersPage.totalUsersCount;\r\n};\r\nexport const getCurrentPage = (state) => {\r\n  return state.usersPage.currentPage;\r\n};\r\nexport const getIsFetching = (state) => {\r\n  return state.usersPage.isFetching;\r\n};\r\nexport const getFollowingInProgress = (state) => {\r\n  return state.usersPage.followingInProgress;\r\n};\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Users from \"./Users\";\r\nimport {\r\n  followThunk,\r\n  unfollowThunk,\r\n  setCurrentPage,\r\n  toggleFollowingProgress,\r\n  requestUsers,\r\n} from \"../../Redux/users-reducer\";\r\nimport { withAuthRedirect } from \"../../hoc/WithAuthRedirect\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport { compose } from \"redux\";\r\nimport {\r\n  getCurrentPage,\r\n  getFollowingInProgress,\r\n  getIsFetching,\r\n  getPageSize,\r\n  getTotalUsersCount,\r\n  getUsers,\r\n} from \"../../Redux/users-selectors\";\r\n\r\nclass UsersContainer extends React.Component {\r\n  componentDidMount() {\r\n    this.props.requestUsers(this.props.currentPage, this.props.pageSize);\r\n  }\r\n  onPageChanged = (p) => {\r\n    this.props.requestUsers(p, this.props.pageSize);\r\n  };\r\n  render() {\r\n    return (\r\n      <>\r\n        {this.props.isFetching ? <Preloader /> : null}\r\n        <Users\r\n          currentPage={this.props.currentPage}\r\n          pageSize={this.props.pageSize}\r\n          totalUserCount={this.props.totalUsersCount}\r\n          onPageChanged={this.onPageChanged}\r\n          followThunk={this.props.followThunk}\r\n          unfollowThunk={this.props.unfollowThunk}\r\n          users={this.props.users}\r\n          toggleFollowingProgress={this.props.toggleFollowingProgress}\r\n          followingInProgress={this.props.followingInProgress}\r\n        />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    users: getUsers(state),\r\n    pageSize: getPageSize(state),\r\n    totalUsersCount: getTotalUsersCount(state),\r\n    currentPage: getCurrentPage(state),\r\n    isFetching: getIsFetching(state),\r\n    followingInProgress: getFollowingInProgress(state),\r\n  };\r\n};\r\nexport default connect(mapStateToProps, {\r\n  followThunk,\r\n  unfollowThunk,\r\n  setCurrentPage,\r\n  toggleFollowingProgress,\r\n  requestUsers: requestUsers,\r\n})(UsersContainer);\r\n","import React from \"react\";\r\nimport { reduxForm } from \"redux-form\";\r\nimport { requiredField } from \"../../utils/validators/validators\";\r\nimport { createField, Input } from \"../common/FormsControls/FormsControls\";\r\nimport { connect } from \"react-redux\";\r\nimport { login } from \"../../Redux/auth-reducer\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport classes from \"../common/FormsControls/FormsControls.module.css\";\r\n\r\nconst LoginForm = ({ handleSubmit, error, captchaUrl }) => {\r\n  return (\r\n    // прокидываем в форму хэндлсабмит, чтобы не перегружалась страница\r\n    <form onSubmit={handleSubmit}>\r\n      {/* тег form обязателен для формы, обрамлять им обязательно!!!!!!! */}\r\n\r\n      {createField(\"Email\", Input, [requiredField], \"email\")}\r\n\r\n      {createField(\"Password\", Input, [requiredField], \"password\", {\r\n        type: \"password\",\r\n      })}\r\n\r\n      {createField(\r\n        null,\r\n        Input,\r\n        [],\r\n        \"rememberMe\",\r\n        {\r\n          type: \"checkbox\",\r\n        },\r\n        \"remember me\"\r\n      )}\r\n      {captchaUrl && <img src={captchaUrl} />}\r\n      {captchaUrl &&\r\n        createField(\"Symbols from image\", Input, [requiredField], \"captcha\")}\r\n      {error && <div className={classes.formError}> {error}</div>}\r\n      <div>\r\n        <button>login</button>\r\n        {/* кнопка в форме автоматом сабмитит форму и страница перегружается */}\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\n// оборачиваем форму в контейнерную компоненту HOC\r\nconst LoginReduxForm = reduxForm({\r\n  form: \"login\",\r\n})(LoginForm);\r\n\r\nconst Login = (props) => {\r\n  const onSubmit = (formData) => {\r\n    props.login(\r\n      formData.email,\r\n      formData.password,\r\n      formData.rememberMe,\r\n      formData.captcha\r\n    );\r\n  };\r\n  if (props.isAuth) {\r\n    return <Redirect to={\"/profile\"} />;\r\n  }\r\n  return (\r\n    <div>\r\n      <h1>LOGIN</h1>\r\n      <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl} />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    captchaUrl: state.auth.captchaUrl,\r\n    isAuth: state.auth.isAuth,\r\n  };\r\n};\r\nexport default connect(mapStateToProps, { login })(Login);\r\n","import React, { Suspense } from \"react\";\nimport { Redirect, Route, Switch, withRouter } from \"react-router-dom\";\nimport styles from \"./App.module.css\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport NavBar from \"./components/Navbar/NavBar\";\nimport News from \"./components/News/News\";\nimport Music from \"./components/Music/Music\";\nimport Settings from \"./components/Settings/Settings\";\nimport UsersContainer from \"./components/Friends/UsersContainer\";\nimport Login from \"./components/Login/Login\";\nimport { connect } from \"react-redux\";\nimport { initializeApp, catchedError } from \"./Redux/app-reducer\";\nimport Preloader from \"./components/common/Preloader/Preloader\";\nimport { compose } from \"redux\";\nconst ProfileContainer = React.lazy(() =>\n  import(\"./components/Profile/ProfileContainer\")\n);\nconst DialogsContainer = React.lazy(() =>\n  import(\"./components/Dialogs/DialogsContainer\")\n);\n\nclass App extends React.Component {\n  catchAllUnhandledErrors = (reason, promise) => {\n    this.props.catchedError(reason.reason);\n  };\n  componentDidMount() {\n    this.props.initializeApp();\n    window.addEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors);\n  }\n  componentWillMount() {\n    window.removeEventListener(\n      \"unhandledrejection\",\n      this.catchAllUnhandledErrors\n    );\n  }\n  render() {\n    if (!this.props.initialized) {\n      return <Preloader />;\n    }\n    return (\n      <div className={styles.appWrapper}>\n        <HeaderContainer />\n        <NavBar />\n        <Switch>\n          <div className={styles.appWrapper_content}>\n            {this.props.globalError && <div>Ошибка</div>}\n            <Suspense fallback={<div>Загрузка...</div>}>\n              <section>\n                <Redirect from=\"/\" to=\"/profile\" />\n                <Route\n                  path=\"/profile/:userId?\"\n                  render={() => <ProfileContainer />}\n                />\n                <Route path=\"/dialogs\" render={() => <DialogsContainer />} />\n              </section>\n            </Suspense>\n            <Route path=\"/news\" render={() => <News />} />\n            <Route path=\"/music\" render={() => <Music />} />\n            <Route path=\"/settings\" render={() => <Settings />} />\n            <Route path=\"/users\" render={() => <UsersContainer />} />\n            <Route path=\"/login\" render={() => <Login />} />\n          </div>\n        </Switch>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  initialized: state.app.initialized,\n  globalError: state.app.globalError,\n});\nexport default compose(\n  withRouter,\n  connect(mapStateToProps, { initializeApp, catchedError })\n)(App);\n","import \"./index.css\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport store from \"./Redux/redux-store\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { Provider } from \"react-redux\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  // можно вместо browserrouter обернуть приложение HashRouter, и тогда адрес будет сокращен, опставится хеш и в гите будет работать\n\n  <BrowserRouter basename={process.env.PUBLIC_URL}>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__3Mrew\",\"error\":\"FormsControls_error__2orhu\",\"formError\":\"FormsControls_formError__DkI4Q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Users_paginator__2C46w\",\"person\":\"Users_person__m3hsE\",\"usersList\":\"Users_usersList__2urUR\",\"status\":\"Users_status__3pbZv\"};","export const requiredField = (value) => {\r\n  if (value) return undefined;\r\n  return \"Field id required\";\r\n};\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n  if (value.length > maxLength) {\r\n    return `Max length is ${maxLength} symbols`;\r\n  }\r\n\r\n  return undefined;\r\n};\r\n","export default __webpack_public_path__ + \"static/media/preloader.9471ec7a.gif\";","import React from \"react\";\r\nimport preloader from \"../../../assets/images/preloader.gif\";\r\nimport styles from \"./Preloader.module.css\";\r\nconst Preloader = () => {\r\n  return (\r\n    <div className={styles.preloader}>\r\n      <img src={preloader} />\r\n    </div>\r\n  );\r\n};\r\nexport default Preloader;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageNumber\":\"Paginator_pageNumber__2nY6L\",\"selectedPage\":\"Paginator_selectedPage__gnXRu\",\"pagesCounter\":\"Paginator_pagesCounter__1Jy6M\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"appWrapper\":\"App_appWrapper__3R0K_\",\"appWrapper_content\":\"App_appWrapper_content__7Evi6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3wzKr\",\"loginBlock\":\"Header_loginBlock__2nAgg\"};","import { profileAPI } from \"../api/api\";\r\nimport { stopSubmit } from \"redux-form\";\r\nconst NEW_POST = \"NEW-POST\";\r\nconst SET_USER_PROFILE = \"SET_USER_PROFILE\";\r\nconst SET_STATUS = \"SET_STATUS\";\r\nconst SAVE_PHOTO_SUCCES = \"SAVE_PHOTO_SUCCES\";\r\nconst SAVE_PROFILE_SUCCES = \"SAVE_PROFILE_SUCCES\";\r\n\r\nlet initialState = {\r\n  posts: [\r\n    { id: 1, message: \"Hello, world!\" },\r\n    { id: 2, message: \"Hi! It's my first App\" },\r\n    { id: 3, message: \"Blablabla\" },\r\n  ],\r\n  profile: null,\r\n  status: \"\",\r\n};\r\nconst profileReducer = (state = initialState, action) => {\r\n  if (action.type === NEW_POST) {\r\n    return {\r\n      ...state,\r\n      posts: [\r\n        ...state.posts,\r\n        {\r\n          id: 4,\r\n          message: action.newPostText,\r\n        },\r\n      ],\r\n    };\r\n  } else if (action.type === SET_USER_PROFILE) {\r\n    return {\r\n      ...state,\r\n      profile: action.profile,\r\n    };\r\n  } else if (action.type === SET_STATUS) {\r\n    return {\r\n      ...state,\r\n      status: action.status,\r\n    };\r\n  } else if (action.type === SAVE_PHOTO_SUCCES) {\r\n    return {\r\n      ...state,\r\n      profile: { ...state.profile, photos: action.photos },\r\n    };\r\n  }\r\n  // } else if (action.type === SAVE_PROFILE_SUCCES) {\r\n  //   return {\r\n  //     ...state,\r\n  //     profile: { ...state.profile, photos: action.photos },\r\n  //   };\r\n\r\n  return state;\r\n};\r\nexport const addNewPost = (newPostText) => {\r\n  return { type: NEW_POST, newPostText };\r\n};\r\n\r\nexport const setUserProfile = (profile) => {\r\n  return { type: SET_USER_PROFILE, profile };\r\n};\r\nexport const setStatus = (status) => {\r\n  return { type: SET_STATUS, status };\r\n};\r\nexport const savePhotoSucces = (photos) => {\r\n  return { type: SAVE_PHOTO_SUCCES, photos };\r\n};\r\n// export const saveProfileSucces = (profile) => {\r\n//   return { type: SAVE_PHOTO_SUCCES, photos };\r\n// };\r\n\r\nexport const getUserProfile = (userId) => {\r\n  return async (dispatch) => {\r\n    let response = await profileAPI.getProfile(userId);\r\n    dispatch(setUserProfile(response.data));\r\n  };\r\n};\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n  let response = await profileAPI.getStatus(userId);\r\n  dispatch(setStatus(response.data));\r\n};\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n  try {\r\n    let response = await profileAPI.updateStatus(status);\r\n    if (response.data.resultCode === 0) {\r\n      dispatch(setStatus(status));\r\n    }\r\n  } catch (error) {\r\n    alert(\"Some error occured\");\r\n  }\r\n};\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n  let response = await profileAPI.savePhoto(file);\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(savePhotoSucces(response.data.data.photos));\r\n  }\r\n};\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n  const userId = getState().auth.userId;\r\n  let response = await profileAPI.saveProfile(profile);\r\n  if (response.data.resultCode === 0) {\r\n    if (userId != null) {\r\n      dispatch(getUserProfile(userId));\r\n    } else {\r\n      throw new Error(\"userId can't be null\");\r\n    }\r\n  } else {\r\n    dispatch(stopSubmit(\"edit-profile\", { _error: response.data.messages[0] }));\r\n    return Promise.reject(response.data.messages[0]);\r\n  }\r\n};\r\nexport default profileReducer;\r\n","export default __webpack_public_path__ + \"static/media/user.a70779f1.png\";"],"sourceRoot":""}