{"version":3,"sources":["Redux/dialogs-reducer.js","components/common/Preloader/Preloader.module.css","api/api.js","components/Navbar/NavBar.module.css","components/common/FormsControls/FormsControls.js","reportWebVitals.js","Redux/sidebar-reducer.js","Redux/users-reducer.js","Redux/auth-reducer.js","Redux/app-reducer.js","Redux/redux-store.js","assets/images/social-network-logo.png","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Navbar/NavBar.jsx","components/News/News.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","components/common/Paginator/Paginator.jsx","components/Friends/User.jsx","components/Friends/Users.jsx","Redux/users-selectors.js","components/Friends/UsersContainer.jsx","components/Login/Login.jsx","App.js","index.js","components/common/FormsControls/FormsControls.module.css","components/Friends/Users.module.css","utils/validators/validators.js","assets/images/preloader.gif","components/common/Preloader/Preloader.jsx","components/common/Paginator/Paginator.module.css","App.module.css","components/Header/Header.module.css","Redux/profile-reducer.js","assets/images/user.png"],"names":["SEND_NEW_MESSAGE","initialState","dialogs","id","name","avatar","status","messages","message","sendNewMessage","newMessageText","type","dialogsReducer","state","action","module","exports","instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","post","unfollow","delete","headerAPI","authMe","login","email","password","rememberMe","captcha","res","logout","profileAPI","getProfile","userId","getStatus","updateStatus","put","savePhoto","file","formData","FormData","append","saveProfile","profile","securityAPI","getCaptchaUrl","Textarea","input","meta","props","hasError","touched","error","className","classes","formControl","Input","createField","placeholder","component","validate","text","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","sidebarReducer","FOLLOW","UNFOLLOW","SET_USERS","SET_TOTAL_USERS_COUNT","SET_CURRENT_PAGE","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","setCurrentPage","page","toggleIsFetching","toggleFollowingProgress","usersReducer","map","el","followed","totalCount","userIid","filter","SET_USER_DATA","GET_CAPTCHA_URL_SUCCES","isAuth","captchaUrl","setUserData","payload","getCaptchaUrlSucces","getAuthUserData","dispatch","resultCode","url","authReducer","INITIALIZED_SUCCES","CATCHED_ERROR","initialized","globalError","appReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","sidebar","usersPage","auth","app","form","formReducer","store","createStore","applyMiddleware","thunkMiddleware","window","Header","header","src","socialNetworkLogo","loginBlock","onClick","to","HeaderContainer","this","React","Component","connect","NavBar","styles","nav","item","activeClassName","active","News","content","Music","Settings","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","pagesCounter","disabled","p","cn","selectedPage","pageNumber","User","user","unfollowThunk","followThunk","person","photos","small","userPhoto","some","Users","paginator","totalUserCount","usersList","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","requestUsers","Preloader","items","LoginReduxForm","reduxForm","handleSubmit","onSubmit","requiredField","formError","length","stopSubmit","_error","ProfileContainer","lazy","DialogsContainer","App","catchAllUnhandledErrors","reason","promise","catchedError","initializeApp","addEventListener","removeEventListener","appWrapper","appWrapper_content","fallback","from","path","render","compose","withRouter","Promise","all","ReactDOM","basename","process","document","getElementById","value","maxLengthCreator","maxLength","preloader","NEW_POST","SET_USER_PROFILE","SET_STATUS","SAVE_PHOTO_SUCCES","posts","addNewPost","newPostText","setStatus","getUserProfile","alert","getState","Error","reject"],"mappings":"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","file":"static/js/main.f7229965.chunk.js","sourcesContent":["const SEND_NEW_MESSAGE = \"SEND_NEW_MESSAGE\";\r\n\r\nlet initialState = {\r\n  dialogs: [\r\n    {\r\n      id: 1,\r\n      name: \"Andrey\",\r\n      avatar:\r\n        \"https://profilemagazine.com/wp-content/uploads/2020/04/Ajmere-Dale-Square-thumbnail.jpg\",\r\n      status: \"Hello, How are you?\",\r\n    },\r\n    {\r\n      id: 2,\r\n      name: \"Vasili\",\r\n      avatar:\r\n        \"https://res-1.cloudinary.com/crunchbase-production/image/upload/c_thumb,h_256,w_256,f_auto,g_faces,z_0.7,q_auto:eco/v1443584492/vosgqpvicpjgknz2rn2l.png\",\r\n      status: \"Where are my friends? Heeeyo!!!\",\r\n    },\r\n    {\r\n      id: 3,\r\n      name: \"Olga\",\r\n      avatar:\r\n        \"https://organicthemes.com/demo/profile/files/2018/05/profile-pic.jpg\",\r\n      status: \"Oh! I need a husband! Now!\",\r\n    },\r\n    {\r\n      id: 4,\r\n      name: \"Nikola\",\r\n      avatar:\r\n        \"https://media.creativemornings.com/uploads/user/avatar/49419/Bechtel_Profile_Square.jpg\",\r\n      status: \"I'm careful!\",\r\n    },\r\n  ],\r\n  messages: [\r\n    { id: 1, message: \"Hello!\" },\r\n    { id: 2, message: \"How are you!\" },\r\n    { id: 3, message: \"This is my first project!\" },\r\n  ],\r\n};\r\nconst dialogsReducer = (state = initialState, action) => {\r\n  if (action.type === SEND_NEW_MESSAGE) {\r\n    return {\r\n      ...state,\r\n      messages: [\r\n        ...state.messages,\r\n        {\r\n          id: 5,\r\n          message: action.newMessageText,\r\n        },\r\n      ],\r\n    };\r\n  }\r\n  return state;\r\n};\r\nexport const sendNewMessage = (newMessageText) => {\r\n  return { type: SEND_NEW_MESSAGE, newMessageText };\r\n};\r\n\r\nexport default dialogsReducer;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__1kpFS\"};","import * as axios from \"axios\";\r\nconst instance = axios.create({\r\n  withCredentials: true,\r\n  baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n  headers: {\r\n    \"API-KEY\": \"35e9e887-e3d6-4312-8e2a-34df7e5725be\",\r\n  },\r\n});\r\nexport const usersAPI = {\r\n  getUsers(currentPage = 1, pageSize = 10) {\r\n    return instance\r\n      .get(`users?page=${currentPage}&count=${pageSize}`)\r\n      .then((response) => response.data);\r\n  },\r\n  follow(id) {\r\n    return instance.post(`follow/${id}`);\r\n  },\r\n  unfollow(id) {\r\n    return instance.delete(`follow/${id}`);\r\n  },\r\n};\r\nexport const headerAPI = {\r\n  authMe() {\r\n    return instance.get(`auth/me`);\r\n  },\r\n  login(email, password, rememberMe = false, captcha = null) {\r\n    return instance\r\n      .post(`auth/login`, { email, password, rememberMe, captcha })\r\n      .then((res) => res.data);\r\n  },\r\n  logout() {\r\n    return instance.delete(`auth/login`);\r\n  },\r\n};\r\nexport const profileAPI = {\r\n  getProfile(userId) {\r\n    return instance.get(`profile/` + userId);\r\n  },\r\n  getStatus(userId) {\r\n    return instance.get(`profile/status/` + userId);\r\n  },\r\n  updateStatus(status) {\r\n    return instance.put(`profile/status/`, { status: status });\r\n  },\r\n  savePhoto(file) {\r\n    // высылаем файл фотку, там особая форма запроса\r\n    let formData = new FormData();\r\n    formData.append(\"image\", file);\r\n    return instance.put(`profile/photo/`, formData, {\r\n      headers: {\r\n        \"Content-type\": \"multipart/form-data\",\r\n      },\r\n    });\r\n  },\r\n  saveProfile(profile) {\r\n    return instance.put(`profile/`, profile);\r\n  },\r\n};\r\nexport const securityAPI = {\r\n  getCaptchaUrl() {\r\n    return instance.get(`security/get-captcha-url`);\r\n  },\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"NavBar_nav__20i8P\",\"active\":\"NavBar_active__34sVd\",\"item\":\"NavBar_item__3P1Rx\"};","import React from \"react\";\r\nimport { Field } from \"redux-form\";\r\nimport classes from \"./FormsControls.module.css\";\r\nexport const Textarea = ({ input, meta, ...props }) => {\r\n  const hasError = meta.touched && meta.error;\r\n  return (\r\n    <div\r\n      className={classes.formControl + \" \" + (hasError ? classes.error : \" \")}\r\n    >\r\n      <textarea {...input} {...props} />\r\n      {hasError && <span>{meta.error}</span>}\r\n    </div>\r\n  );\r\n};\r\nexport const Input = ({ input, meta, ...props }) => {\r\n  const hasError = meta.touched && meta.error;\r\n  return (\r\n    <div\r\n      className={classes.formControl + \" \" + (hasError ? classes.error : \" \")}\r\n    >\r\n      <input {...input} {...props} />\r\n      {hasError && <span>{meta.error}</span>}\r\n    </div>\r\n  );\r\n};\r\nexport function createField(\r\n  placeholder,\r\n  component,\r\n  validate,\r\n  name,\r\n  props = {},\r\n  text = \"\"\r\n) {\r\n  return (\r\n    <div>\r\n      <Field\r\n        placeholder={placeholder}\r\n        component={component}\r\n        validate={validate}\r\n        name={name}\r\n        {...props}\r\n      ></Field>\r\n      {text}\r\n    </div>\r\n  );\r\n}\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","let initialState = [\r\n  {\r\n    id: 1,\r\n    name: \"Andrey\",\r\n    avatar:\r\n      \"https://profilemagazine.com/wp-content/uploads/2020/04/Ajmere-Dale-Square-thumbnail.jpg\",\r\n  },\r\n  {\r\n    id: 2,\r\n    name: \"Vasili\",\r\n    avatar:\r\n      \"https://res-1.cloudinary.com/crunchbase-production/image/upload/c_thumb,h_256,w_256,f_auto,g_faces,z_0.7,q_auto:eco/v1443584492/vosgqpvicpjgknz2rn2l.png\",\r\n  },\r\n  {\r\n    id: 3,\r\n    name: \"Olga\",\r\n    avatar:\r\n      \"https://organicthemes.com/demo/profile/files/2018/05/profile-pic.jpg\",\r\n  },\r\n  {\r\n    id: 4,\r\n    name: \"Nikola\",\r\n    avatar:\r\n      \"https://media.creativemornings.com/uploads/user/avatar/49419/Bechtel_Profile_Square.jpg\",\r\n  },\r\n];\r\nconst sidebarReducer = (state = initialState, action) => {\r\n  return state;\r\n};\r\nexport default sidebarReducer;\r\n","import { usersAPI } from \"../api/api\";\r\nconst FOLLOW = \"FOLLOW\";\r\nconst UNFOLLOW = \"UNFOLLOW\";\r\nconst SET_USERS = \"SET_USERS\";\r\nconst SET_TOTAL_USERS_COUNT = \"SET_TOTAL_USERS_COUNT\";\r\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\";\r\nconst TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\";\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = \"TOGGLE_IS_FOLLOWING_PROGRESS\";\r\n\r\nlet initialState = {\r\n  users: [],\r\n  totalUsersCount: 0,\r\n  currentPage: 1,\r\n  pageSize: 10,\r\n  isFetching: true,\r\n  followingInProgress: [],\r\n};\r\nconst usersReducer = (state = initialState, action) => {\r\n  if (action.type === FOLLOW) {\r\n    return {\r\n      ...state,\r\n      users: state.users.map((el) => {\r\n        if (el.id === action.userId) {\r\n          return { ...el, followed: true };\r\n        }\r\n        return el;\r\n      }),\r\n    };\r\n  } else if (action.type === UNFOLLOW) {\r\n    return {\r\n      ...state,\r\n      users: state.users.map((el) => {\r\n        if (el.id === action.userId) {\r\n          return { ...el, followed: false };\r\n        }\r\n        return el;\r\n      }),\r\n    };\r\n  } else if (action.type === SET_USERS) {\r\n    return {\r\n      ...state,\r\n      users: action.users,\r\n    };\r\n  } else if (action.type === SET_CURRENT_PAGE) {\r\n    return {\r\n      ...state,\r\n      currentPage: action.page,\r\n    };\r\n  } else if (action.type === SET_TOTAL_USERS_COUNT) {\r\n    return {\r\n      ...state,\r\n      totalUsersCount: action.totalCount,\r\n    };\r\n  } else if (action.type === TOGGLE_IS_FETCHING) {\r\n    return {\r\n      ...state,\r\n      isFetching: action.isFetching,\r\n    };\r\n  } else if (action.type === TOGGLE_IS_FOLLOWING_PROGRESS) {\r\n    return {\r\n      ...state,\r\n      followingInProgress: action.isFetching\r\n        ? [...state.followingInProgress, action.userIid]\r\n        : state.followingInProgress.filter((id) => id != action.userId),\r\n    };\r\n  }\r\n  return state;\r\n};\r\nexport const follow = (userId) => {\r\n  return { type: FOLLOW, userId };\r\n};\r\nexport const unfollow = (userId) => {\r\n  return { type: UNFOLLOW, userId };\r\n};\r\nexport const setUsers = (users) => {\r\n  return { type: SET_USERS, users };\r\n};\r\nexport const setCurrentPage = (page) => {\r\n  return { type: SET_CURRENT_PAGE, page };\r\n};\r\nexport const setTotalUsersCount = (totalCount) => {\r\n  return { type: SET_TOTAL_USERS_COUNT, totalCount };\r\n};\r\nexport const toggleIsFetching = (isFetching) => {\r\n  return { type: TOGGLE_IS_FETCHING, isFetching };\r\n};\r\nexport const toggleFollowingProgress = (isFetching, userId) => {\r\n  return { type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId };\r\n};\r\n\r\n// _________________________________________________________________________________\r\n\r\nexport const requestUsers = (currentPage, pageSize) => {\r\n  return (dispatch) => {\r\n    dispatch(toggleIsFetching(true));\r\n    dispatch(setCurrentPage(currentPage));\r\n    usersAPI.getUsers(currentPage, pageSize).then((data) => {\r\n      dispatch(toggleIsFetching(false));\r\n      dispatch(setUsers(data.items));\r\n      dispatch(setTotalUsersCount(data.totalCount));\r\n    });\r\n  };\r\n};\r\nexport const unfollowThunk = (userId) => {\r\n  return async (dispatch) => {\r\n    dispatch(toggleFollowingProgress(true, userId));\r\n    let response = await usersAPI.unfollow(userId);\r\n    if (response.data.resultCode == 0) {\r\n      dispatch(unfollow(userId));\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId));\r\n  };\r\n};\r\nexport const followThunk = (userId) => {\r\n  return async (dispatch) => {\r\n    dispatch(toggleFollowingProgress(true, userId));\r\n    let response = await usersAPI.follow(userId);\r\n    if (response.data.resultCode == 0) {\r\n      dispatch(follow(userId));\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId));\r\n  };\r\n};\r\nexport default usersReducer;\r\n","import { stopSubmit } from \"redux-form\";\r\nimport { headerAPI, securityAPI } from \"../api/api\";\r\nconst SET_USER_DATA = \"SET_USER_DATA\";\r\nconst GET_CAPTCHA_URL_SUCCES =\r\n  \"social-network/security/get-captcha-url/GET_CAPTCHA_URL_SUCCES\";\r\n\r\nlet initialState = {\r\n  userId: null,\r\n  email: null,\r\n  login: null,\r\n  isAuth: false,\r\n  captchaUrl: null,\r\n};\r\nconst authReducer = (state = initialState, action) => {\r\n  if (action.type === SET_USER_DATA || action.type === GET_CAPTCHA_URL_SUCCES) {\r\n    return {\r\n      ...state,\r\n      ...action.payload,\r\n    };\r\n  }\r\n  return state;\r\n};\r\nexport const setUserData = (userId, email, login, isAuth) => {\r\n  return { type: SET_USER_DATA, payload: { userId, email, login, isAuth } };\r\n};\r\nexport const getCaptchaUrlSucces = (captchaUrl) => {\r\n  return { type: GET_CAPTCHA_URL_SUCCES, payload: { captchaUrl } };\r\n};\r\n\r\nexport const getAuthUserData = () => (dispatch) => {\r\n  return headerAPI.authMe().then((response) => {\r\n    if (response.data.resultCode === 0) {\r\n      let { id, email, login } = response.data.data;\r\n      dispatch(setUserData(id, email, login, true));\r\n    }\r\n  });\r\n};\r\n\r\nexport const login =\r\n  (email, password, rememberMe, captcha) => async (dispatch) => {\r\n    let data = await headerAPI.login(email, password, rememberMe, captcha);\r\n\r\n    if (data.resultCode === 0) {\r\n      dispatch(getAuthUserData());\r\n    } else {\r\n      if (data.resultCode === 10) {\r\n        dispatch(getCaptchaUrl());\r\n      }\r\n      let message = data.messages.length > 0 ? data.messages[0] : \"Some error\";\r\n      dispatch(stopSubmit(\"login\", { _error: message }));\r\n    }\r\n  };\r\n\r\nexport const logout = () => (dispatch) => {\r\n  headerAPI.logout().then((response) => {\r\n    if (response.data.resultCode === 0) {\r\n      dispatch(setUserData(null, null, null, false));\r\n    }\r\n  });\r\n};\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n  const response = await securityAPI.getCaptchaUrl();\r\n  const captchaUrl = response.data.url;\r\n  dispatch(getCaptchaUrlSucces(captchaUrl));\r\n};\r\n\r\nexport default authReducer;\r\n","import { getAuthUserData } from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCES = \"INITIALIZED_SUCCES\";\r\nconst CATCHED_ERROR = \"CATCHED_ERROR\";\r\nlet initialState = {\r\n  initialized: false,\r\n  globalError: null,\r\n};\r\nconst appReducer = (state = initialState, action) => {\r\n  if (action.type === INITIALIZED_SUCCES) {\r\n    return {\r\n      ...state,\r\n      initialized: true,\r\n    };\r\n  } else if (action.type === CATCHED_ERROR) {\r\n    return {\r\n      ...state,\r\n      globalError: action.error,\r\n    };\r\n  }\r\n  return state;\r\n};\r\nexport const initializedSucces = () => {\r\n  return { type: INITIALIZED_SUCCES };\r\n};\r\nexport const catchedError = (error) => {\r\n  return { type: CATCHED_ERROR, error };\r\n};\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n  let promise = dispatch(getAuthUserData());\r\n  Promise.all([promise]).then(() => {\r\n    dispatch(initializedSucces());\r\n  });\r\n};\r\n\r\nexport default appReducer;\r\n","import { applyMiddleware, combineReducers, createStore } from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport { reducer as formReducer } from \"redux-form\";\r\nimport appReducer from \"./app-reducer\";\r\nlet reducers = combineReducers({\r\n  profilePage: profileReducer,\r\n  dialogsPage: dialogsReducer,\r\n  sidebar: sidebarReducer,\r\n  usersPage: usersReducer,\r\n  auth: authReducer,\r\n  app: appReducer,\r\n  form: formReducer,\r\n});\r\n\r\nlet store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\nwindow.store = store;\r\nexport default store;\r\n","export default __webpack_public_path__ + \"static/media/social-network-logo.119097b8.png\";","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport classes from \"./Header.module.css\";\r\nimport socialNetworkLogo from \"./../../assets/images/social-network-logo.png\";\r\nfunction Header(props) {\r\n  return (\r\n    <header className={classes.header}>\r\n      <img src={socialNetworkLogo}></img>\r\n      <div className={classes.loginBlock}>\r\n        {props.isAuth ? (\r\n          <div>\r\n            <div>{props.login}</div>\r\n            <div>\r\n              <button onClick={props.logout}>Log out</button>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <NavLink to={\"/login\"}></NavLink>\r\n        )}\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\nexport default Header;\r\n","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport { connect } from \"react-redux\";\r\nimport { logout } from \"../../Redux/auth-reducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n  render() {\r\n    return <Header {...this.props}></Header>;\r\n  }\r\n}\r\nconst mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n  login: state.auth.login,\r\n});\r\nexport default connect(mapStateToProps, { logout })(HeaderContainer);\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport styles from \"./NavBar.module.css\";\r\nfunction NavBar() {\r\n  return (\r\n    <nav className={styles.nav}>\r\n      <div className={styles.item}>\r\n        <NavLink to=\"/profile\" activeClassName={styles.active}>\r\n          Profile\r\n        </NavLink>\r\n      </div>\r\n      <div className={styles.item}>\r\n        <NavLink to=\"/dialogs\" activeClassName={styles.active}>\r\n          Messages\r\n        </NavLink>\r\n      </div>\r\n      <div className={styles.item}>\r\n        <NavLink to=\"/news\" activeClassName={styles.active}>\r\n          News\r\n        </NavLink>\r\n      </div>\r\n      <div className={styles.item}>\r\n        <NavLink to=\"/music\" activeClassName={styles.active}>\r\n          Music\r\n        </NavLink>\r\n      </div>\r\n      <div className={styles.item}>\r\n        <NavLink to=\"/settings\" activeClassName={styles.active}>\r\n          Settings\r\n        </NavLink>\r\n      </div>\r\n      <div className={styles.item}>\r\n        <NavLink to=\"/users\" activeClassName={styles.active}>\r\n          Users\r\n        </NavLink>\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\nexport default NavBar;\r\n","import React from \"react\";\r\nimport classes from \"./News.module.css\";\r\nconst News = () => {\r\n  return <div className={classes.content}>News Page will be here..</div>;\r\n};\r\nexport default News;\r\n","import React from \"react\";\r\nimport classes from \"./Music.module.css\";\r\nconst Music = () => {\r\n  return <div className={classes.content}>Music Page...</div>;\r\n};\r\nexport default Music;\r\n","import React from \"react\";\r\nimport classes from \"./Settings.module.css\";\r\nconst Settings = () => {\r\n  return <div>Settings Page will be here</div>;\r\n};\r\nexport default Settings;\r\n","import React, { useState } from \"react\";\r\nimport styles from \"./Paginator.module.css\";\r\nimport cn from \"classnames\";\r\nconst Paginator = ({\r\n  totalItemsCount,\r\n  pageSize,\r\n  currentPage,\r\n  onPageChanged,\r\n  portionSize = 10,\r\n}) => {\r\n  let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n  let pages = [];\r\n  for (let i = 1; i <= pagesCount; i++) {\r\n    pages.push(i);\r\n  }\r\n  let portionCount = Math.ceil(pagesCount / portionSize);\r\n  let [portionNumber, setPortionNumber] = useState(1);\r\n  let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n  let rightPortionPageNumber = portionNumber * portionSize;\r\n  return (\r\n    <div className={styles.pagesCounter}>\r\n      {portionNumber > 1 ? (\r\n        <button\r\n          onClick={() => {\r\n            setPortionNumber(portionNumber - 1);\r\n          }}\r\n        >\r\n          &laquo;&laquo;\r\n        </button>\r\n      ) : (\r\n        <button disabled>&laquo;&laquo;</button>\r\n      )}\r\n      {pages\r\n        .filter(\r\n          (p) => p >= leftPortionPageNumber && p <= rightPortionPageNumber\r\n        )\r\n        .map((p) => {\r\n          return (\r\n            <span\r\n              className={cn(\r\n                { [styles.selectedPage]: currentPage === p },\r\n                styles.pageNumber\r\n              )}\r\n              key={p}\r\n              onClick={() => {\r\n                onPageChanged(p);\r\n              }}\r\n            >\r\n              {p}\r\n            </span>\r\n          );\r\n        })}\r\n      {portionCount > portionNumber ? (\r\n        <button\r\n          onClick={() => {\r\n            setPortionNumber(portionNumber + 1);\r\n          }}\r\n        >\r\n          &raquo;&raquo;\r\n        </button>\r\n      ) : (\r\n        <button disabled>&raquo;&raquo;</button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Paginator;\r\n","import React from \"react\";\r\nimport userPhoto from \"../../assets/images/user.png\";\r\nimport styles from \"./Users.module.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nlet User = ({ user, unfollowThunk, followingInProgress, followThunk }) => {\r\n  return (\r\n    <div className={styles.person}>\r\n      <span>\r\n        <div>\r\n          <NavLink to={\"/profile/\" + user.id}>\r\n            <img\r\n              src={user.photos.small != null ? user.photos.small : userPhoto}\r\n            ></img>\r\n          </NavLink>\r\n        </div>\r\n        <div>\r\n          {user.followed ? (\r\n            <button\r\n              disabled={followingInProgress.some((id) => id === user.id)}\r\n              onClick={() => {\r\n                unfollowThunk(user.id);\r\n              }}\r\n            >\r\n              UnFollow\r\n            </button>\r\n          ) : (\r\n            <button\r\n              disabled={followingInProgress.some((id) => id === user.id)}\r\n              onClick={() => {\r\n                followThunk(user.id);\r\n              }}\r\n            >\r\n              Follow\r\n            </button>\r\n          )}\r\n        </div>\r\n      </span>\r\n      <span>\r\n        <span>\r\n          <div>{user.name}</div>\r\n          {user.status && (\r\n            <div className={styles.status}>{`\"${user.status}\"`}</div>\r\n          )}\r\n        </span>\r\n      </span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default User;\r\n","import React from \"react\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\nimport styles from \"./Users.module.css\";\r\n\r\nlet Users = (props) => {\r\n  return (\r\n    <div>\r\n      <div className={styles.paginator}>\r\n        <Paginator\r\n          totalItemsCount={props.totalUserCount}\r\n          pageSize={props.pageSize}\r\n          currentPage={props.currentPage}\r\n          onPageChanged={props.onPageChanged}\r\n        />\r\n      </div>\r\n      <div className={styles.usersList}>\r\n        {props.users.map((el) => (\r\n          <User\r\n            key={el.id}\r\n            user={el}\r\n            followingInProgress={props.followingInProgress}\r\n            unfollowThunk={props.unfollowThunk}\r\n            followThunk={props.followThunk}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Users;\r\n","import { createSelectorHook } from \"react-redux\";\r\n\r\nexport const getUsers = (state) => {\r\n  return state.usersPage.users;\r\n};\r\nexport const getPageSize = (state) => {\r\n  return state.usersPage.pageSize;\r\n};\r\nexport const getTotalUsersCount = (state) => {\r\n  return state.usersPage.totalUsersCount;\r\n};\r\nexport const getCurrentPage = (state) => {\r\n  return state.usersPage.currentPage;\r\n};\r\nexport const getIsFetching = (state) => {\r\n  return state.usersPage.isFetching;\r\n};\r\nexport const getFollowingInProgress = (state) => {\r\n  return state.usersPage.followingInProgress;\r\n};\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Users from \"./Users\";\r\nimport {\r\n  followThunk,\r\n  unfollowThunk,\r\n  setCurrentPage,\r\n  toggleFollowingProgress,\r\n  requestUsers,\r\n} from \"../../Redux/users-reducer\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport {\r\n  getCurrentPage,\r\n  getFollowingInProgress,\r\n  getIsFetching,\r\n  getPageSize,\r\n  getTotalUsersCount,\r\n  getUsers,\r\n} from \"../../Redux/users-selectors\";\r\n\r\nclass UsersContainer extends React.Component {\r\n  componentDidMount() {\r\n    this.props.requestUsers(this.props.currentPage, this.props.pageSize);\r\n  }\r\n  onPageChanged = (p) => {\r\n    this.props.requestUsers(p, this.props.pageSize);\r\n  };\r\n  render() {\r\n    return (\r\n      <>\r\n        {this.props.isFetching ? <Preloader /> : null}\r\n        <Users\r\n          currentPage={this.props.currentPage}\r\n          pageSize={this.props.pageSize}\r\n          totalUserCount={this.props.totalUsersCount}\r\n          onPageChanged={this.onPageChanged}\r\n          followThunk={this.props.followThunk}\r\n          unfollowThunk={this.props.unfollowThunk}\r\n          users={this.props.users}\r\n          toggleFollowingProgress={this.props.toggleFollowingProgress}\r\n          followingInProgress={this.props.followingInProgress}\r\n        />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    users: getUsers(state),\r\n    pageSize: getPageSize(state),\r\n    totalUsersCount: getTotalUsersCount(state),\r\n    currentPage: getCurrentPage(state),\r\n    isFetching: getIsFetching(state),\r\n    followingInProgress: getFollowingInProgress(state),\r\n  };\r\n};\r\nexport default connect(mapStateToProps, {\r\n  followThunk,\r\n  unfollowThunk,\r\n  setCurrentPage,\r\n  toggleFollowingProgress,\r\n  requestUsers: requestUsers,\r\n})(UsersContainer);\r\n","import React from \"react\";\r\nimport { reduxForm } from \"redux-form\";\r\nimport { requiredField } from \"../../utils/validators/validators\";\r\nimport { createField, Input } from \"../common/FormsControls/FormsControls\";\r\nimport { connect } from \"react-redux\";\r\nimport { login } from \"../../Redux/auth-reducer\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport classes from \"../common/FormsControls/FormsControls.module.css\";\r\n\r\nconst LoginForm = ({ handleSubmit, error, captchaUrl }) => {\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      {createField(\"Email\", Input, [requiredField], \"email\")}\r\n\r\n      {createField(\"Password\", Input, [requiredField], \"password\", {\r\n        type: \"password\",\r\n      })}\r\n\r\n      {createField(\r\n        null,\r\n        Input,\r\n        [],\r\n        \"rememberMe\",\r\n        {\r\n          type: \"checkbox\",\r\n        },\r\n        \"remember me\"\r\n      )}\r\n      {captchaUrl && <img src={captchaUrl} />}\r\n      {captchaUrl &&\r\n        createField(\"Symbols from image\", Input, [requiredField], \"captcha\")}\r\n      {error && <div className={classes.formError}> {error}</div>}\r\n      <div>\r\n        <button>login</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst LoginReduxForm = reduxForm({\r\n  form: \"login\",\r\n})(LoginForm);\r\n\r\nconst Login = (props) => {\r\n  const onSubmit = (formData) => {\r\n    props.login(\r\n      formData.email,\r\n      formData.password,\r\n      formData.rememberMe,\r\n      formData.captcha\r\n    );\r\n  };\r\n  if (props.isAuth) {\r\n    return <Redirect to={\"/profile\"} />;\r\n  }\r\n  return (\r\n    <div>\r\n      <h1>LOGIN</h1>\r\n      <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl} />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    captchaUrl: state.auth.captchaUrl,\r\n    isAuth: state.auth.isAuth,\r\n  };\r\n};\r\nexport default connect(mapStateToProps, { login })(Login);\r\n","import React, { Suspense } from \"react\";\r\nimport { Redirect, Route, Switch, withRouter } from \"react-router-dom\";\r\nimport styles from \"./App.module.css\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport NavBar from \"./components/Navbar/NavBar\";\r\nimport News from \"./components/News/News\";\r\nimport Music from \"./components/Music/Music\";\r\nimport Settings from \"./components/Settings/Settings\";\r\nimport UsersContainer from \"./components/Friends/UsersContainer\";\r\nimport Login from \"./components/Login/Login\";\r\nimport { connect } from \"react-redux\";\r\nimport { initializeApp, catchedError } from \"./Redux/app-reducer\";\r\nimport Preloader from \"./components/common/Preloader/Preloader\";\r\nimport { compose } from \"redux\";\r\nconst ProfileContainer = React.lazy(() =>\r\n  import(\"./components/Profile/ProfileContainer\")\r\n);\r\nconst DialogsContainer = React.lazy(() =>\r\n  import(\"./components/Dialogs/DialogsContainer\")\r\n);\r\n\r\nclass App extends React.Component {\r\n  catchAllUnhandledErrors = (reason, promise) => {\r\n    this.props.catchedError(reason.reason);\r\n  };\r\n  componentDidMount() {\r\n    this.props.initializeApp();\r\n    window.addEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors);\r\n  }\r\n  componentWillMount() {\r\n    window.removeEventListener(\r\n      \"unhandledrejection\",\r\n      this.catchAllUnhandledErrors\r\n    );\r\n  }\r\n  render() {\r\n    if (!this.props.initialized) {\r\n      return <Preloader />;\r\n    }\r\n    return (\r\n      <div className={styles.appWrapper}>\r\n        <HeaderContainer />\r\n        <NavBar />\r\n        <Switch>\r\n          <div className={styles.appWrapper_content}>\r\n            {this.props.globalError && <div>Ошибка</div>}\r\n            <Suspense fallback={<div>Загрузка...</div>}>\r\n              <section>\r\n                <Redirect from=\"/\" to=\"/profile\" />\r\n                <Route\r\n                  path=\"/profile/:userId?\"\r\n                  render={() => <ProfileContainer />}\r\n                />\r\n                <Route path=\"/dialogs\" render={() => <DialogsContainer />} />\r\n              </section>\r\n            </Suspense>\r\n            <Route path=\"/news\" render={() => <News />} />\r\n            <Route path=\"/music\" render={() => <Music />} />\r\n            <Route path=\"/settings\" render={() => <Settings />} />\r\n            <Route path=\"/users\" render={() => <UsersContainer />} />\r\n            <Route path=\"/login\" render={() => <Login />} />\r\n          </div>\r\n        </Switch>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  initialized: state.app.initialized,\r\n  globalError: state.app.globalError,\r\n});\r\nexport default compose(\r\n  withRouter,\r\n  connect(mapStateToProps, { initializeApp, catchedError })\r\n)(App);\r\n","import \"./index.css\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport store from \"./Redux/redux-store\";\r\nimport React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport { Provider } from \"react-redux\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\n\r\nReactDOM.render(\r\n  // можно вместо browserrouter обернуть приложение HashRouter, и тогда адрес будет сокращен, опставится хеш и в гите будет работать\r\n\r\n  <BrowserRouter basename={process.env.PUBLIC_URL}>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </BrowserRouter>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__3URLI\",\"error\":\"FormsControls_error__UVR9e\",\"formError\":\"FormsControls_formError__2alRN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Users_paginator__2HDhn\",\"person\":\"Users_person__-WaFr\",\"usersList\":\"Users_usersList__1JcH9\",\"status\":\"Users_status__3T9Tq\"};","export const requiredField = (value) => {\r\n  if (value) return undefined;\r\n  return \"Field id required\";\r\n};\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n  if (value.length > maxLength) {\r\n    return `Max length is ${maxLength} symbols`;\r\n  }\r\n\r\n  return undefined;\r\n};\r\n","export default __webpack_public_path__ + \"static/media/preloader.9471ec7a.gif\";","import React from \"react\";\r\nimport preloader from \"../../../assets/images/preloader.gif\";\r\nimport styles from \"./Preloader.module.css\";\r\nconst Preloader = () => {\r\n  return (\r\n    <div className={styles.preloader}>\r\n      <img src={preloader} />\r\n    </div>\r\n  );\r\n};\r\nexport default Preloader;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageNumber\":\"Paginator_pageNumber__1naCt\",\"selectedPage\":\"Paginator_selectedPage__36fw8\",\"pagesCounter\":\"Paginator_pagesCounter__16l3t\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"appWrapper\":\"App_appWrapper__1avCL\",\"appWrapper_content\":\"App_appWrapper_content__20wM7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__yArag\",\"loginBlock\":\"Header_loginBlock__1g3VE\"};","import { profileAPI } from \"../api/api\";\r\nimport { stopSubmit } from \"redux-form\";\r\nconst NEW_POST = \"NEW-POST\";\r\nconst SET_USER_PROFILE = \"SET_USER_PROFILE\";\r\nconst SET_STATUS = \"SET_STATUS\";\r\nconst SAVE_PHOTO_SUCCES = \"SAVE_PHOTO_SUCCES\";\r\nconst SAVE_PROFILE_SUCCES = \"SAVE_PROFILE_SUCCES\";\r\n\r\nlet initialState = {\r\n  posts: [\r\n    { id: 1, message: \"Hello, world!\" },\r\n    { id: 2, message: \"Hi! It's my first App\" },\r\n    { id: 3, message: \"Blablabla\" },\r\n  ],\r\n  profile: null,\r\n  status: \"\",\r\n};\r\nconst profileReducer = (state = initialState, action) => {\r\n  if (action.type === NEW_POST) {\r\n    return {\r\n      ...state,\r\n      posts: [\r\n        ...state.posts,\r\n        {\r\n          id: 4,\r\n          message: action.newPostText,\r\n        },\r\n      ],\r\n    };\r\n  } else if (action.type === SET_USER_PROFILE) {\r\n    return {\r\n      ...state,\r\n      profile: action.profile,\r\n    };\r\n  } else if (action.type === SET_STATUS) {\r\n    return {\r\n      ...state,\r\n      status: action.status,\r\n    };\r\n  } else if (action.type === SAVE_PHOTO_SUCCES) {\r\n    return {\r\n      ...state,\r\n      profile: { ...state.profile, photos: action.photos },\r\n    };\r\n  }\r\n\r\n  return state;\r\n};\r\nexport const addNewPost = (newPostText) => {\r\n  return { type: NEW_POST, newPostText };\r\n};\r\n\r\nexport const setUserProfile = (profile) => {\r\n  return { type: SET_USER_PROFILE, profile };\r\n};\r\nexport const setStatus = (status) => {\r\n  return { type: SET_STATUS, status };\r\n};\r\nexport const savePhotoSucces = (photos) => {\r\n  return { type: SAVE_PHOTO_SUCCES, photos };\r\n};\r\nexport const getUserProfile = (userId) => {\r\n  return async (dispatch) => {\r\n    let response = await profileAPI.getProfile(userId);\r\n    dispatch(setUserProfile(response.data));\r\n  };\r\n};\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n  let response = await profileAPI.getStatus(userId);\r\n  dispatch(setStatus(response.data));\r\n};\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n  try {\r\n    let response = await profileAPI.updateStatus(status);\r\n    if (response.data.resultCode === 0) {\r\n      dispatch(setStatus(status));\r\n    }\r\n  } catch (error) {\r\n    alert(\"Some error occured\");\r\n  }\r\n};\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n  let response = await profileAPI.savePhoto(file);\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(savePhotoSucces(response.data.data.photos));\r\n  }\r\n};\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n  const userId = getState().auth.userId;\r\n  let response = await profileAPI.saveProfile(profile);\r\n  if (response.data.resultCode === 0) {\r\n    if (userId != null) {\r\n      dispatch(getUserProfile(userId));\r\n    } else {\r\n      throw new Error(\"userId can't be null\");\r\n    }\r\n  } else {\r\n    dispatch(stopSubmit(\"edit-profile\", { _error: response.data.messages[0] }));\r\n    return Promise.reject(response.data.messages[0]);\r\n  }\r\n};\r\nexport default profileReducer;\r\n","export default __webpack_public_path__ + \"static/media/user.a70779f1.png\";"],"sourceRoot":""}